//author: sparrow.jang
//verion: 0.0.1
!function(t){var n=function(){return+new Date},e=function(t,n){for(var e=[],r=n;r<t.length;r++)e.push(t[r]);return e},r=function(t){var n,e=1;for(e;e<arguments.length;e++){n=arguments[e];for(var r in n)t[r]=n[r]}return t},s=function(t){var n=parseInt(t/1e3);return{ms:t%1e3,second:n%60,minute:parseInt(n%3600/60),hour:parseInt(n%86400/3600),day:parseInt(n/86400)}},o=function(){this.events_={}};o.prototype={addEventListener:function(t,n){this.events_[t]||(this.events_[t]=[]),this.events_[t].push(n)},removeEventListener:function(t,n){var e=this.events_[t];if(e)for(var r=e.length;i>=0;i--)if(e[r]==n){e[r].splice(r,1);break}},trigger:function(t){var n=this.events_[t],r=e(arguments,1);if(n)for(var i=0;i<n.length;i++)n[i].apply(this,r)}};var a=function(t,n){o.call(this),this.opts_={interval:500},t&&this.update(t),n&&r(this.opts_,n)};r(a.prototype,new o,{countdown:0,update:function(t){this.countdown=t},start:function(){this.nowDate_=n(),this.trigger("start"),this.clearFunc=this.listen_()},listen_:function(){var t=this,e=setInterval(function(){var e=t.countdown+t.nowDate_-n();e>0?t.trigger("changed",s(e),e):t.stop()},t.opts_.interval);return function(){clearInterval(e)}},stop:function(){this.clearFunc&&this.clearFunc()&&this.trigger("stop")}});var u=t.sp||{};u.Timer=a,t.sp=u}(window);