//author: sparrow.jang
//verion: 0.0.3
!function(){var t=function(){return+new Date},n=function(t,n){for(var e=[],r=n;r<t.length;r++)e.push(t[r]);return e},e=function(t){var n,e=1;for(e;e<arguments.length;e++){n=arguments[e];for(var r in n)t[r]=n[r]}return t},r=function(t){var n=parseInt(t/1e3);return{ms:t%1e3,second:n%60,minute:parseInt(n%3600/60),hour:parseInt(n%86400/3600),day:parseInt(n/86400)}},s=function(){this.events_={}};s.prototype={addEventListener:function(t,n){this.events_[t]||(this.events_[t]=[]),this.events_[t].push(n)},removeEventListener:function(t,n){var e=this.events_[t];if(e)for(var r=e.length;i>=0;i--)if(e[r]==n){e[r].splice(r,1);break}},trigger:function(t){var e=this.events_[t],r=n(arguments,1);if(e)for(var i=0;i<e.length;i++)e[i].apply(this,r)}};var o=function(t,n){s.call(this),this.opts_={interval:500},t&&this.update(t),n&&e(this.opts_,n)};if(e(o.prototype,new s,{countdown:0,update:function(t){this.countdown=t},start:function(){this.nowDate_=t(),this.trigger("start"),this.clearFunc=this.listen_()},listen_:function(){var n=this,e=setInterval(function(){var e=n.countdown+n.nowDate_-t();e>0?n.trigger("changed",r(e),e):n.stop()},n.opts_.interval);return function(){clearInterval(e)}},stop:function(){this.clearFunc&&this.clearFunc()&&this.trigger("stop")}}),"undefined"!=typeof module&&(module.exports=o),"undefined"!=typeof window){var a=window.sp||{};a.Timer=o,window.sp=a}}();